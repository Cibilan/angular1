<div>
    <md-toolbar layout="row" layout-align="end center">
        <md-button href="#/contractList" class="md-accent md-raised">
          Home
          </md-button>
        <div class="md-toolbar-tools">
            <span>Dispatch Order Details</span>
        </div>
    </md-toolbar>

<div layout="row" layout-align="center" layout-padding>
  <md-card flex>

    <md-steppers md-selected="stepper.selected" md-stretch-steppers="always">
        <md-step label="Order Created" md-complete="stepper.step1Completed">
            <md-content></md-content>
        </md-step>
        <md-step label="Ready for Dispatch" md-complete="stepper.step2Completed">
            <md-content></md-content>
        </md-step>
        <md-step label="Arrival of Transporter" md-complete="stepper.step3Completed">
            <md-content></md-content>
        </md-step>  
        <md-step label="Ready for Shipment" md-complete="stepper.step4Completed">
            <md-content></md-content>
        </md-step>
        <md-step label="In Transit" md-complete="stepper.step5Completed">
            <md-content></md-content>
        </md-step>
        <md-step label="Shipment Delivered" md-complete="stepper.step6Completed">
            <md-content></md-content>
        </md-step>
    </md-steppers>

  </md-card>
</div>    

<!--
<div layout="row" layout-align="center">
    <md-card flex>
      <md-card-header>
      <md-card-header-text>
        <span class = "md-title">Order Created</span>
        </md-card-header-text>
      </md-card-header>
      <md-card-content>
          <p>Order Created</p>
          <p>Create Asset</p>
          <p>Map asset</p>
      </md-card-content>

    </md-card>
    <md-card flex>
      <md-card-header>
      <md-card-header-text>
        <span class = "md-title">Ready for Dispatch</span>
        </md-card-header-text>
      </md-card-header>
      <md-card-content>
          <p>Assign Transporter</p>
          <p>Tranporter Arrival</p>
        </md-card-content>

    </md-card>

    <md-card flex>
      <md-card-header>
      <md-card-header-text>
        <span class = "md-title">Arrival of Transporter</span>
        </md-card-header-text>
      </md-card-header>
      <md-card-content>
          <p>Upload Invoice</p> 
          <p>Upload LR</p>
          <p> Upload esugam</p>
          <p>Upload etc</p>
          
        </md-card-content>

    </md-card>

    <md-card flex>
     <md-card-header>
      <md-card-header-text>
        <span class = "md-title">Ready for Shipment</span>
        </md-card-header-text>
      </md-card-header>
      <md-card-content>
          <p>
             Confirm Loading
          </p>
        </md-card-content>

    </md-card>

    <md-card flex>
      <md-card-header>
      <md-card-header-text>
        <span class = "md-title">In Transit</span>
        </md-card-header-text>
      </md-card-header>
      <md-card-content>
          <p>
            Received Load
          </p>
        </md-card-content>

    </md-card>

    <md-card flex>
      <md-card-header>
      <md-card-header-text>
        <span class = "md-title">Shipment Delivered</span>
        </md-card-header-text>
      </md-card-header>
      <md-card-content>
          <p>
            Consigment Delivered
          </p>
        </md-card-content>

    </md-card>

  
</div>	-->

<div layout-gt-xs layout="row" layout-align="center" layout-padding>

<md-card flex>

  <md-card-header>
      <md-card-header-text>
        <span class="md-title">Order Info</span>
      </md-card-header-text>
  </md-card-header>
  
  <div layout="row" layout-align="center">    
  <md-card-title >
      <md-card-title-text> 
        <span>Order ID</span>
      </md-card-title-text>
      <md-card-title-text> 
        <span class="md-subhead"> {{dispatchOrderDetails.dispatchOrderId}} </span>
      </md-card-title-text>
  </md-card-title>
  <md-card-title>
      <md-card-title-text> 
        <span >Buyer</span>
      </md-card-title-text>
      <md-card-title-text> 
        <span class="md-subhead"> {{dispatchOrderDetails.customer}} </span>
      </md-card-title-text>
  </md-card-title>
  <md-card-title>
      <md-card-title-text> 
        <span>Transporter</span> 
       </md-card-title-text>
       <md-card-title-text> 
        <span class="md-subhead"> {{dispatchOrderDetails.transporter}} </span>
      </md-card-title-text>        
  </md-card-title>

  <md-card-title>
      <md-card-title-text> 
        <span> Part# </span>
      </md-card-title-text>
      <md-card-title-text> 
        <span class="md-subhead"> {{dispatchOrderDetails.partNumber}} </span>
      </md-card-title-text>
  </md-card-title>
  
  </div>
  <div layout="row" layout-align="center">    
  <md-card-title >
      <md-card-title-text> 
        <span>Quantity</span>
      </md-card-title-text>
      <md-card-title-text> 
        <span class="md-subhead"> {{dispatchOrderDetails.quantity}} </span>
      </md-card-title-text>
  </md-card-title>
  <md-card-title>
      <md-card-title-text> 
        <span>Source</span>
      </md-card-title-text>
      <md-card-title-text> 
        <span class="md-subhead"> {{dispatchOrderDetails.source}} </span>
      </md-card-title-text>
  </md-card-title>
  <md-card-title>
      <md-card-title-text> 
        <span>Destination</span>
      </md-card-title-text>
      <md-card-title-text> 
        <span class="md-subhead"> {{dispatchOrderDetails.customer}} </span>
      </md-card-title-text>
  </md-card-title>
  <md-card-title>
      <md-card-title-text> 
        <span>Delivery term</span>
      </md-card-title-text>
      <md-card-title-text> 
        <span class="md-subhead"> {{dispatchOrderDetails.deliveryTerm}} </span>
      </md-card-title-text>
  </md-card-title>
  
  </div>  

</md-card>
</div>

<div layout = "row" ng-if = "show.asset" >
  <md-card flex>
     <md-card-header> 
      <md-card-header-text>
        <span class="md-title">Create Asset</span>
      </md-card-header-text>
  </md-card-header>
    <md-list-item layout-padding>
    <input type ="file" on-read-file="showContent($fileContent)"/>

     
    <md-button class="md-raised" ng-click = "createAsset()" >Create Assest</md-button>  
    </md-list-item>
    <div layout-padding>
    <table class="table" ng-if="content">
    <thead>
      <tr>
        <th>assetId</th> 
        <th>partNumber</th>
        <th>partDescription</th>
        <th>batchNumer</th>
        <th>manufactureDate</th>
        <th>itchs</th>
        <th>exciseChaperNumber</th>
       </tr> 
    </thead>
    <tr ng-repeat="asset in assetList">
      <td>{{ asset.assetId }}</td>
      <td>{{ asset.partNumber }}</td>
      <td>{{ asset.partDescription }}</td>
      <td>{{ asset.batchNumer }}</td>
      <td>{{ asset.manufactureDate | date:'medium' }}</td>
      <td>{{ asset.itchs }}</td>
      <td>{{ asset.exciseChaperNumber }}</td>
    </tr>
    </table>
    </div>


  </md-card>
</div>

<div layout = "row" ng-if = "show.asset">
<md-card flex>
     <md-card-header>
      <md-card-header-text>
        <span class="md-title">Asset</span>
      </md-card-header-text>
  </md-card-header>
  <md-list-item layout-padding>      
      <md-button class="md-raised" ng-click = "getAsset()"> Get Open Asset</md-button>
      <md-button class="md-raised" ng-click = "mapAsset()"> Map Asset</md-button>      
   </md-list-item>
    <div layout-padding ng-if = "openAssetList.length > 0">
    <table class="table" >
    <thead>
      <tr>
        <th> <input type="checkbox" name= "" ng-model = "selectAll" ng-click="checkAll()"> Select/Deselect All </th>
        <th>partNumber</th>
        <th>partDescription</th>
        <th>batchNumer</th>
       </tr> 
    </thead>
    <tr ng-repeat="openAsset in openAssetList">
      <td> <input type = "checkbox" name="" ng-model="selected" ng-checked="exist(openAsset)" ng-click="toggleSelection(openAsset)">{{ openAsset.assetId }} </td> 
      <td>{{ openAsset.partNumber }}</td>
      <td>{{ openAsset.partDescription }}</td>
      <td>{{ openAsset.batchNumer }}</td>
    </tr>
    </table>
    <p>{{selected}}</p>
    </div> 

</md-card>
</div>

<div>
  <md-card flex ="50" layout-padding ng-if = "show.transporter" >
  <md-card-header>
      <md-card-header-text>
        <span class = "md-title">Transporter Details</span>
        </md-card-header-text>
   </md-card-header>
   <md-input-container class="md-block" flex layout-padding >
      <label>Transporter</label>
      <md-select name="type" ng-model="dispatchOrderDetails.transporter">
        <md-option value="VHS Logistics">VHS Logistics</md-option>
        <md-option value="TVS Logistics">TVS Logistics</md-option>
        <md-option value="Mahindra Logistics">Mahindra Logistics</md-option>
      </md-select>
    </md-input-container>
    <md-input-container class="md-block" flex >
      <label>Load Type</label>
      <md-select name="type" ng-model="dispatchOrderDetails.loadingType">
        <md-option value="FTL">FTL</md-option>
        <md-option value="LTL">LTL</md-option>
      </md-select>
    </md-input-container>
    <md-input-container  class="md-block" flex>
        <label>Transporter Ref</label>
        <input class="md-input" ng-model="dispatchOrderDetails.transporterRef" >
    </md-input-container>
    <md-input-container  class="md-block" flex>
        <label>Weight in Kgs</label>
        <input class="md-input" ng-model="dispatchOrderDetails.weight" >
    </md-input-container>
    <div>
        <md-button ng-click= "addTransporter()">Add Transporter</md-button>
    </div>
  </md-card> 
</div>

<div>
  <md-card flex ="50" layout-padding ng-if="show.confirmArrival">
    <md-card-header>
      <md-card-header-text>
        <span class = "md-title">Confirm Transporter Arrival</span>
      </md-card-header-text>
    </md-card-header>
    <div>
        <md-button ng-click= "transporterArrived()">Arrived</md-button>
    </div>

  </md-card>
</div>

<div layout = "row" ng-if="show.documentUpload">
<md-card flex>
  <md-card-header>
      <md-card-header-text>
        <span class="md-title">Document Details</span>
      </md-card-header-text>
  </md-card-header>
  <md-card-content>

  <md-list-item>
    <p> Invoice</p>
      <input type ="file" id="invoice" ng-if="show.updocumentID1"/>
      <md-button class="md-raised" ng-if="show.updocumentID1" ng-click = "upFile('invoice','documentID1')">Upload Now</md-button> 
      <md-button class="md-raised" ng-if="show.downdocumentID1" ng-click = "downFile('documentID1')">Download</md-button> 
</md-list-item>
<md-divider ></md-divider>
<md-list-item>
    <p> Esugam</p>
      <input type ="file" ng-if="show.updocumentID2" id="Esugam"/>
      <md-button class="md-raised" ng-if="show.updocumentID2" ng-click = "upFile('Esugam','documentID2')">Upload Now</md-button>
      <md-button class="md-raised" ng-if="show.downdocumentID2" ng-click = "downFile('documentID2')">Download</md-button>  
</md-list-item>
<md-divider ></md-divider>
<md-list-item>
    <p> LR</p>
    <input type ="file" ng-if="show.updocumentID3" id="LR"/>
      <md-button class="md-raised" ng-if="show.updocumentID3" ng-click = "upFile('LR','documentID3')">Upload Now</md-button>
      <md-button class="md-raised" ng-if="show.downdocumentID3" ng-click = "downFile('documentID3')">Download</md-button>   
</md-list-item>
<md-divider ></md-divider>
<md-list-item>
    <p> ETC</p>
    <input type ="file" ng-if="show.updocumentID4" id="ETC"/>
      <md-button class="md-raised" ng-if="show.updocumentID4" ng-click = "upFile('ETC','documentID4')">Upload Now</md-button>
      <md-button class="md-raised" ng-if="show.downdocumentID4" ng-click = "downFile('documentID4')">Download</md-button>    
</md-list-item>
  </md-card-content>
  <md-card-actions layout="row" ng-if="show.readyShip" layout-align="end center">
   <md-button class="md-raised" ng-click = "readyShip()">Ready for shipment</md-button>
 </md-card-actions> 
</md-card>
</div>
<div ng-if="show.goodsLoad">
  <md-card flex ="50" layout-padding >
    <md-card-header>
      <md-card-header-text>
        <span class = "md-title">Confirm Loading of goods</span>
      </md-card-header-text>
    </md-card-header>
    <div>
        <md-button ng-click= "confirmLoading()">Loaded</md-button>
    </div>

  </md-card>
</div>
<div ng-if="show.goodsReceived">
  <md-card flex ="50" layout-padding >
    <md-card-header>
      <md-card-header-text>
        <span class = "md-title">Confirm Goods Received</span>
      </md-card-header-text>
    </md-card-header>
    <div>
        <md-button ng-click= "goodsLoaded()">Loaded</md-button>
    </div>

  </md-card>
</div>
<div ng-if="show.goodsDelivered">
  <md-card flex ="50" layout-padding >
    <md-card-header>
      <md-card-header-text>
        <span class = "md-title">Confirm Goods delivered</span>
      </md-card-header-text>
    </md-card-header>
    <div>
        <md-button ng-click= "goodsdelivered()">Delivered</md-button>
    </div>

  </md-card>
</div>




<div class="container">
  <h2>History</h2>          
  	<table class="table">
    	<thead>
      	<tr>
        <th>orderId </th>
        <th>stage</th>
        <th>timestamp</th>
        <th>transactionDescription</th>
      	</tr>
    	</thead>
  		<tr ng-repeat="contract in contractHisory">
    	<td>{{ contract.orderId }}</td>
    	<td>{{ contract.stage }}</td>
    	<td>{{ contract.timestamp | date:'medium' }}</td>
    	<td>{{ contract.transactionDescription }}</td>
  		</tr>
	</table>

</div>	


</div>	